<div class="container-fluid sky z-depth-2">
  <hr>
  <form [formGroup]='rForm'>
    <h5 class="text-center font-weight-bold">Cautare medicamente</h5>
    <div class="row">
      <div class="col">
        <div class="md-form">
          <input id="code" mdbInputDirective type="text" class="form-control"
                 formControlName="code">
          <label for="code">Cod medicament</label>
        </div>
      </div>
      <div class="col">
        <div class="md-form">
          <input id="name" mdbInputDirective type="text" class="form-control"
                 formControlName="commercialName">
          <label for="name">Denumire comerciala</label>
        </div>
      </div>
      <div class="col">
        <div class="md-form">
          <input id="registerNumber" mdbInputDirective type="text" class="form-control"
                 formControlName="registerNumber">
          <label for="registerNumber">Numar de inregistrare</label>
        </div>
      </div>

      <div class="col">
        <div class="md-form-modified text-center">
          <button type="button" class="btn btn-md btn-indigo waves-light btn-large" mdbWavesEffect
                  (click)="getMedicaments();"><i
                  class="fa fa-search fa-lg" aria-hidden="true"></i></button>
        </div>
      </div>
    </div>
  </form>

  <div class="table-width">
    <div class="text-right" *ngIf=visibility>
      <mat-form-field class="w-25">
        <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filtru" class="w-25">
      </mat-form-field>
    </div>
    <div class="gradient-card-header bg-sidebar border-gradient">
      <div class="container-fluid">
        <!-- Title -->
        <div class="row">
          <div class="col-4">
            <div class="card-header-title white-text">Medicamente</div>
          </div>
          <div class="col-8">
            <div class="text-right fap white-text">
              <i class="fa fa-lg fa-mt" aria-hidden="true" (click)="changeVisibility();"
                 [ngClass]="visibility ? 'fa-touched fa-search-plus' : 'fa-untouched fa-search-minus'"></i>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="card-body card-body-cascade">
      <div class="table-width">
        <div class="example-container">
          <table mat-table [dataSource]="dataSource" matSort id="tableData">
            <ng-container matColumnDef="code">
              <th mat-header-cell *matHeaderCellDef mat-sort-header class="bg-sidebar white-text">
                Cod medicament
              </th>
              <td mat-cell *matCellDef="let element" class="text-center">
                {{element.code}}
              </td>
            </ng-container>

            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef mat-sort-header class="bg-sidebar white-text">
                Denumire

              </th>
              <td mat-cell *matCellDef="let element" class="text-center"> {{element.commercialName}}</td>
            </ng-container>

            <ng-container matColumnDef="registrationNumber">
              <th mat-header-cell *matHeaderCellDef mat-sort-header class="bg-sidebar white-text">Numar inregistrare
              </th>
              <td mat-cell *matCellDef="let element" class="text-center"> {{element.registerNumber}}</td>
            </ng-container>

            <ng-container matColumnDef="division">
              <th mat-header-cell *matHeaderCellDef mat-sort-header class="bg-sidebar white-text">Numărul de unități
              </th>
              <td mat-cell *matCellDef="let element" class="text-center"> {{element.division}}</td>
            </ng-container>

            <ng-container matColumnDef="volume">
              <th mat-header-cell *matHeaderCellDef mat-sort-header class="bg-sidebar white-text">Volum
              </th>
              <td mat-cell *matCellDef="let element" class="text-center"> {{element.volume}}</td>
            </ng-container>

            <ng-container matColumnDef="volumeQuantityMeasurement">
              <th mat-header-cell *matHeaderCellDef mat-sort-header class="bg-sidebar white-text">Unitate de masura (volum)
              </th>
              <td mat-cell *matCellDef="let element" class="text-center"> {{element.volumeQuantityMeasurement}}</td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
          <mat-paginator [pageSizeOptions]="[10, 25, 50, 100]" showFirstLastButtons></mat-paginator>
        </div>
      </div>
    </div>
  </div>
  <div class="text-center">
    <div mat-dialog-actions>
      <div class="w-100">
        <button class="btn btn-danger btn-sm waves-light" (click)="cancel()">Anulare</button>
        <button class="btn btn-dark-green-color btn-sm waves-light" (click)="add()">Adaugare</button>
      </div>
    </div>
  </div>
</div>