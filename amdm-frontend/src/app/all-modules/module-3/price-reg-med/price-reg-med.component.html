<div class="container-fluid sky z-depth-2">
    <h3 class="text-center my-3 font-weight-bold">Înregistrarea prețului medicamentelor</h3>
    <hr>

    <div class="row">
        <div class="col-lg-6">
            <div class="md-form">
                <input id="nrCererii" mdbInputDirective type="text" class="form-control" [attr.disabled]="true" [value]="requestNumber">
                <label for="nrCererii">Nr. cererii de inițiere</label>
            </div>
        </div>

        <div class="col-lg-6">
            <div class="md-form-modified">
                <mat-form-field class="w-100">
                    <input matInput [matDatepicker]="picker" placeholder="Data" [value]="startRecDate">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker touchUi #picker></mat-datepicker>
                </mat-form-field>
            </div>
        </div>
    </div>

    <div class="text-right">
        <button class="btn btn-dark-green-color waves-light btn-sm btn-sm-bl" mdbWavesEffect
                (click)="addTab()">Adaugă medicament
        </button>
    </div>

    <mat-tab-group [selectedIndex]="selected.value" [backgroundColor]="color"
                   (selectedIndexChange)="selected.setValue($event)" #tabGroup>
        <mat-tab *ngFor="let tab of tabs; let index = index" [label]="tab">
            <div class="example-large-box mat-elevation-z4">
            <div class="text-right">
                <button class="btn btn-dark-red-color waves-light btn-sm btn-sm-bl" mdbWavesEffect
                        [disabled]="tabs.length === 1"
                        (click)="removeTab(index)">Șterge medicametul
                </button>
            </div>

            <!--Contents for {{tab}} tab-->
            <app-one-med-price [formSubmitted]="formSubmitted" (submit)="onFormChange($event)" [medIndex]="index" ></app-one-med-price>
            </div>
        </mat-tab>
    </mat-tab-group>

    <hr>
    <h5 class="text-center font-weight-bold">Documente necesar a fi încărcate</h5>
    <table class="table table-widths-lg text-center">
        <thead class="black white-text">
        <tr>
            <th scope="col">Denumirea</th>
            <th scope="col">Numărul</th>
            <th scope="col">Statusul documentului</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let a of mandatoryDocuments">
            <th scope="row">{{ a.description }}</th>
            <th scope="row">{{ a.number }}</th>
            <th scope="row">{{ a.status }}</th>
        </tr>
        </tbody>
    </table>
    <hr>
    <app-document [documents]="documents" [nrCerere]="requestNumber" (documentModified)="documentAdded($event)"></app-document>
    <div *ngIf="formSubmitted && documents.length == 0">
        <small class="text-muted"><strong class="text-danger">Încărcați actele necesare înregistrării prețului la
            medicament</strong></small>
    </div>
    <hr>
    <div class="text-center">
        <button class="btn btn-dark-green-color waves-light btn-sm btn-sm-bl" mdbWavesEffect
                (click)="nextStep()">Salvează cererea
        </button>
    </div>
</div>